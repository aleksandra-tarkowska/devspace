# this is template for slave and server container
# slave is a container with installed devel packages
# omero is a plane omero server container


baseslave:
    build: ./services/slave
    volumes:
        - ./services/slave:/home/omero
    environment:
        - SLAVE_NAME=baseslave
        - SLAVE_EXECUTORS=4
        - SLAVE_PARAMS=-labels centos7 -labels ice36 -disableClientsUniqueId


baseserver:
    build: ./services/server
    volumes:
        - ./services/server:/home/omero
    environment:
        - SLAVE_NAME=baseomero
        - SLAVE_EXECUTORS=4
        - SLAVE_PARAMS=-labels centos7 -labels ice36 -disableClientsUniqueId


baseweb:
    build: ./services/web
    volumes:
        - ./services/web:/home/omero
        - ./services/nginx/conf.d:/home/omero/nginx
    environment:
        - SLAVE_NAME=baseweb
        - SLAVE_EXECUTORS=4
        - SLAVE_PARAMS= -labels centos7 -labels ice36 -disableClientsUniqueId


basenginx:
    build: ./services/nginx
    volumes:
        - ./services/nginx/conf.d:/etc/nginx/conf.d
        - ./services/web/static:/home/omero/static
    environment:
        - SLAVE_NAME=basenginx
        - SLAVE_EXECUTORS=2
        - SLAVE_PARAMS=-labels centos7 -disableClientsUniqueId
